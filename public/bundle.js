(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){module.exports=function(css,customDocument){var doc=customDocument||document;if(doc.createStyleSheet){var sheet=doc.createStyleSheet();sheet.cssText=css;return sheet.ownerNode}else{var head=doc.getElementsByTagName("head")[0],style=doc.createElement("style");style.type="text/css";if(style.styleSheet){style.styleSheet.cssText=css}else{style.appendChild(doc.createTextNode(css))}head.appendChild(style);return style}};module.exports.byUrl=function(url){if(document.createStyleSheet){return document.createStyleSheet(url).ownerNode}else{var head=document.getElementsByTagName("head")[0],link=document.createElement("link");link.rel="stylesheet";link.href=url;head.appendChild(link);return link}}},{}],2:[function(require,module,exports){if(typeof document!=="undefined"&&!("classList"in document.createElement("a"))){(function(view){"use strict";var classListProp="classList",protoProp="prototype",elemCtrProto=(view.HTMLElement||view.Element)[protoProp],objCtr=Object,strTrim=String[protoProp].trim||function(){return this.replace(/^\s+|\s+$/g,"")},arrIndexOf=Array[protoProp].indexOf||function(item){var i=0,len=this.length;for(;i<len;i++){if(i in this&&this[i]===item){return i}}return-1},DOMEx=function(type,message){this.name=type;this.code=DOMException[type];this.message=message},checkTokenAndGetIndex=function(classList,token){if(token===""){throw new DOMEx("SYNTAX_ERR","An invalid or illegal string was specified")}if(/\s/.test(token)){throw new DOMEx("INVALID_CHARACTER_ERR","String contains an invalid character")}return arrIndexOf.call(classList,token)},ClassList=function(elem){var trimmedClasses=strTrim.call(elem.className),classes=trimmedClasses?trimmedClasses.split(/\s+/):[],i=0,len=classes.length;for(;i<len;i++){this.push(classes[i])}this._updateClassName=function(){elem.className=this.toString()}},classListProto=ClassList[protoProp]=[],classListGetter=function(){return new ClassList(this)};DOMEx[protoProp]=Error[protoProp];classListProto.item=function(i){return this[i]||null};classListProto.contains=function(token){token+="";return checkTokenAndGetIndex(this,token)!==-1};classListProto.add=function(token){token+="";if(checkTokenAndGetIndex(this,token)===-1){this.push(token);this._updateClassName()}};classListProto.remove=function(token){token+="";var index=checkTokenAndGetIndex(this,token);if(index!==-1){this.splice(index,1);this._updateClassName()}};classListProto.toggle=function(token){token+="";if(checkTokenAndGetIndex(this,token)===-1){this.add(token)}else{this.remove(token)}};classListProto.toString=function(){return this.join(" ")};if(objCtr.defineProperty){var classListPropDesc={get:classListGetter,enumerable:true,configurable:true};try{objCtr.defineProperty(elemCtrProto,classListProp,classListPropDesc)}catch(ex){if(ex.number===-2146823252){classListPropDesc.enumerable=false;objCtr.defineProperty(elemCtrProto,classListProp,classListPropDesc)}}}else if(objCtr[protoProp].__defineGetter__){elemCtrProto.__defineGetter__(classListProp,classListGetter)}})(self)}},{}],3:[function(require,module,exports){if(!Function.prototype.bind){Function.prototype.bind=function(oThis){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var aArgs=Array.prototype.slice.call(arguments,1),fToBind=this,fNOP=function(){},fBound=function(){return fToBind.apply(this instanceof fNOP&&oThis?this:oThis,aArgs.concat(Array.prototype.slice.call(arguments)))};fNOP.prototype=this.prototype;fBound.prototype=new fNOP;return fBound}}},{}],4:[function(require,module,exports){require("./classList.js");require("./functionPrototypeBind.js");require("./requestAnimationFrame.js")},{"./classList.js":2,"./functionPrototypeBind.js":3,"./requestAnimationFrame.js":5}],5:[function(require,module,exports){window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback,element){return window.setTimeout(function(){callback(+new Date)},1e3/60)})},{}],6:[function(require,module,exports){var RenderNode=require("./RenderNode");var EventHandler=require("./EventHandler");var ElementAllocator=require("./ElementAllocator");var Transform=require("./Transform");var Transitionable=require("../transitions/Transitionable");var _zeroZero=[0,0];var usePrefix=!("perspective"in document.documentElement.style);function _getElementSize(element){return[element.clientWidth,element.clientHeight]}var _setPerspective=usePrefix?function(element,perspective){element.style.webkitPerspective=perspective?perspective.toFixed()+"px":""}:function(element,perspective){element.style.perspective=perspective?perspective.toFixed()+"px":""};function Context(container){this.container=container;this._allocator=new ElementAllocator(container);this._node=new RenderNode;this._eventOutput=new EventHandler;this._size=_getElementSize(this.container);this._perspectiveState=new Transitionable(0);this._perspective=undefined;this._nodeContext={allocator:this._allocator,transform:Transform.identity,opacity:1,origin:_zeroZero,align:_zeroZero,size:this._size};this._eventOutput.on("resize",function(){this.setSize(_getElementSize(this.container))}.bind(this))}Context.prototype.getAllocator=function getAllocator(){return this._allocator};Context.prototype.add=function add(obj){return this._node.add(obj)};Context.prototype.migrate=function migrate(container){if(container===this.container)return;this.container=container;this._allocator.migrate(container)};Context.prototype.getSize=function getSize(){return this._size};Context.prototype.setSize=function setSize(size){if(!size)size=_getElementSize(this.container);this._size[0]=size[0];this._size[1]=size[1]};Context.prototype.update=function update(contextParameters){if(contextParameters){if(contextParameters.transform)this._nodeContext.transform=contextParameters.transform;if(contextParameters.opacity)this._nodeContext.opacity=contextParameters.opacity;if(contextParameters.origin)this._nodeContext.origin=contextParameters.origin;if(contextParameters.align)this._nodeContext.align=contextParameters.align;if(contextParameters.size)this._nodeContext.size=contextParameters.size}var perspective=this._perspectiveState.get();if(perspective!==this._perspective){_setPerspective(this.container,perspective);this._perspective=perspective}this._node.commit(this._nodeContext)};Context.prototype.getPerspective=function getPerspective(){return this._perspectiveState.get()};Context.prototype.setPerspective=function setPerspective(perspective,transition,callback){return this._perspectiveState.set(perspective,transition,callback)};Context.prototype.emit=function emit(type,event){return this._eventOutput.emit(type,event)};Context.prototype.on=function on(type,handler){return this._eventOutput.on(type,handler)};Context.prototype.removeListener=function removeListener(type,handler){return this._eventOutput.removeListener(type,handler)};Context.prototype.pipe=function pipe(target){return this._eventOutput.pipe(target)};Context.prototype.unpipe=function unpipe(target){return this._eventOutput.unpipe(target)};module.exports=Context},{"../transitions/Transitionable":25,"./ElementAllocator":7,"./EventHandler":12,"./RenderNode":15,"./Transform":18}],7:[function(require,module,exports){function ElementAllocator(container){if(!container)container=document.createDocumentFragment();this.container=container;this.detachedNodes={};this.nodeCount=0}ElementAllocator.prototype.migrate=function migrate(container){var oldContainer=this.container;if(container===oldContainer)return;if(oldContainer instanceof DocumentFragment){container.appendChild(oldContainer)}else{while(oldContainer.hasChildNodes()){container.appendChild(oldContainer.firstChild)}}this.container=container};ElementAllocator.prototype.allocate=function allocate(type){type=type.toLowerCase();if(!(type in this.detachedNodes))this.detachedNodes[type]=[];var nodeStore=this.detachedNodes[type];var result;if(nodeStore.length>0){result=nodeStore.pop()}else{result=document.createElement(type);this.container.appendChild(result)}this.nodeCount++;return result};ElementAllocator.prototype.deallocate=function deallocate(element){var nodeType=element.nodeName.toLowerCase();var nodeStore=this.detachedNodes[nodeType];nodeStore.push(element);this.nodeCount--};ElementAllocator.prototype.getNodeCount=function getNodeCount(){return this.nodeCount};module.exports=ElementAllocator},{}],8:[function(require,module,exports){var Entity=require("./Entity");var EventHandler=require("./EventHandler");var Transform=require("./Transform");var usePrefix=!("transform"in document.documentElement.style);var devicePixelRatio=window.devicePixelRatio||1;function ElementOutput(element){this._matrix=null;this._opacity=1;this._origin=null;this._size=null;this._eventOutput=new EventHandler;this._eventOutput.bindThis(this);this.eventForwarder=function eventForwarder(event){this._eventOutput.emit(event.type,event)}.bind(this);this.id=Entity.register(this);this._element=null;this._sizeDirty=false;this._originDirty=false;this._transformDirty=false;this._invisible=false;if(element)this.attach(element)}ElementOutput.prototype.on=function on(type,fn){if(this._element)this._element.addEventListener(type,this.eventForwarder);this._eventOutput.on(type,fn)};ElementOutput.prototype.removeListener=function removeListener(type,fn){this._eventOutput.removeListener(type,fn)};ElementOutput.prototype.emit=function emit(type,event){if(event&&!event.origin)event.origin=this;var handled=this._eventOutput.emit(type,event);if(handled&&event&&event.stopPropagation)event.stopPropagation();return handled};ElementOutput.prototype.pipe=function pipe(target){return this._eventOutput.pipe(target)};ElementOutput.prototype.unpipe=function unpipe(target){return this._eventOutput.unpipe(target)};ElementOutput.prototype.render=function render(){return this.id};function _addEventListeners(target){for(var i in this._eventOutput.listeners){target.addEventListener(i,this.eventForwarder)}}function _removeEventListeners(target){for(var i in this._eventOutput.listeners){target.removeEventListener(i,this.eventForwarder)}}function _formatCSSTransform(m){m[12]=Math.round(m[12]*devicePixelRatio)/devicePixelRatio;m[13]=Math.round(m[13]*devicePixelRatio)/devicePixelRatio;var result="matrix3d(";for(var i=0;i<15;i++){result+=m[i]<1e-6&&m[i]>-1e-6?"0,":m[i]+","}result+=m[15]+")";return result}var _setMatrix;if(navigator.userAgent.toLowerCase().indexOf("firefox")>-1){_setMatrix=function(element,matrix){element.style.zIndex=matrix[14]*1e6|0;element.style.transform=_formatCSSTransform(matrix)}}else if(usePrefix){_setMatrix=function(element,matrix){element.style.webkitTransform=_formatCSSTransform(matrix)}}else{_setMatrix=function(element,matrix){element.style.transform=_formatCSSTransform(matrix)}}function _formatCSSOrigin(origin){return 100*origin[0]+"% "+100*origin[1]+"%"}var _setOrigin=usePrefix?function(element,origin){element.style.webkitTransformOrigin=_formatCSSOrigin(origin)}:function(element,origin){element.style.transformOrigin=_formatCSSOrigin(origin)};var _setInvisible=usePrefix?function(element){element.style.webkitTransform="scale3d(0.0001,0.0001,0.0001)";element.style.opacity=0}:function(element){element.style.transform="scale3d(0.0001,0.0001,0.0001)";element.style.opacity=0};function _xyNotEquals(a,b){return a&&b?a[0]!==b[0]||a[1]!==b[1]:a!==b}ElementOutput.prototype.commit=function commit(context){var target=this._element;if(!target)return;var matrix=context.transform;var opacity=context.opacity;var origin=context.origin;var size=context.size;if(!matrix&&this._matrix){this._matrix=null;this._opacity=0;_setInvisible(target);return}if(_xyNotEquals(this._origin,origin))this._originDirty=true;if(Transform.notEquals(this._matrix,matrix))this._transformDirty=true;if(this._invisible){this._invisible=false;this._element.style.display=""}if(this._opacity!==opacity){this._opacity=opacity;target.style.opacity=opacity>=1?"0.999999":opacity}if(this._transformDirty||this._originDirty||this._sizeDirty){if(this._sizeDirty)this._sizeDirty=false;if(this._originDirty){if(origin){if(!this._origin)this._origin=[0,0];this._origin[0]=origin[0];this._origin[1]=origin[1]}else this._origin=null;_setOrigin(target,this._origin);this._originDirty=false}if(!matrix)matrix=Transform.identity;this._matrix=matrix;var aaMatrix=this._size?Transform.thenMove(matrix,[-this._size[0]*origin[0],-this._size[1]*origin[1],0]):matrix;_setMatrix(target,aaMatrix);this._transformDirty=false}};ElementOutput.prototype.cleanup=function cleanup(){if(this._element){this._invisible=true;this._element.style.display="none"}};ElementOutput.prototype.attach=function attach(target){this._element=target;_addEventListeners.call(this,target)};ElementOutput.prototype.detach=function detach(){var target=this._element;if(target){_removeEventListeners.call(this,target);if(this._invisible){this._invisible=false;this._element.style.display=""}}this._element=null;return target};module.exports=ElementOutput},{"./Entity":10,"./EventHandler":12,"./Transform":18}],9:[function(require,module,exports){var Context=require("./Context");var EventHandler=require("./EventHandler");var OptionsManager=require("./OptionsManager");var Engine={};var contexts=[];var nextTickQueue=[];var currentFrame=0;var nextTickFrame=0;var deferQueue=[];var lastTime=Date.now();var frameTime;var frameTimeLimit;var loopEnabled=true;var eventForwarders={};var eventHandler=new EventHandler;var options={containerType:"div",containerClass:"famous-container",fpsCap:undefined,runLoop:true,appMode:true};var optionsManager=new OptionsManager(options);var MAX_DEFER_FRAME_TIME=10;Engine.step=function step(){currentFrame++;nextTickFrame=currentFrame;var currentTime=Date.now();if(frameTimeLimit&&currentTime-lastTime<frameTimeLimit)return;var i=0;frameTime=currentTime-lastTime;lastTime=currentTime;eventHandler.emit("prerender");var numFunctions=nextTickQueue.length;while(numFunctions--)nextTickQueue.shift()(currentFrame);while(deferQueue.length&&Date.now()-currentTime<MAX_DEFER_FRAME_TIME){deferQueue.shift().call(this)}for(i=0;i<contexts.length;i++)contexts[i].update();eventHandler.emit("postrender")};function loop(){if(options.runLoop){Engine.step();window.requestAnimationFrame(loop)}else loopEnabled=false}window.requestAnimationFrame(loop);function handleResize(event){for(var i=0;i<contexts.length;i++){contexts[i].emit("resize")}eventHandler.emit("resize")}window.addEventListener("resize",handleResize,false);handleResize();function initialize(){window.addEventListener("touchmove",function(event){event.preventDefault()},true);addRootClasses()}var initialized=false;function addRootClasses(){if(!document.body){Engine.nextTick(addRootClasses);return}document.body.classList.add("famous-root");document.documentElement.classList.add("famous-root")}Engine.pipe=function pipe(target){if(target.subscribe instanceof Function)return target.subscribe(Engine);else return eventHandler.pipe(target)};Engine.unpipe=function unpipe(target){if(target.unsubscribe instanceof Function)return target.unsubscribe(Engine);else return eventHandler.unpipe(target)};Engine.on=function on(type,handler){if(!(type in eventForwarders)){eventForwarders[type]=eventHandler.emit.bind(eventHandler,type);addEngineListener(type,eventForwarders[type])}return eventHandler.on(type,handler)};function addEngineListener(type,forwarder){if(!document.body){Engine.nextTick(addEventListener.bind(this,type,forwarder));return}document.body.addEventListener(type,forwarder)}Engine.emit=function emit(type,event){return eventHandler.emit(type,event)};Engine.removeListener=function removeListener(type,handler){return eventHandler.removeListener(type,handler)};Engine.getFPS=function getFPS(){return 1e3/frameTime};Engine.setFPSCap=function setFPSCap(fps){frameTimeLimit=Math.floor(1e3/fps)};Engine.getOptions=function getOptions(key){return optionsManager.getOptions(key)};Engine.setOptions=function setOptions(options){return optionsManager.setOptions.apply(optionsManager,arguments)};Engine.createContext=function createContext(el){if(!initialized&&options.appMode)Engine.nextTick(initialize);var needMountContainer=false;if(!el){el=document.createElement(options.containerType);el.classList.add(options.containerClass);needMountContainer=true}var context=new Context(el);Engine.registerContext(context);if(needMountContainer)mount(context,el);return context};function mount(context,el){if(!document.body){Engine.nextTick(mount.bind(this,context,el));return}document.body.appendChild(el);context.emit("resize")}Engine.registerContext=function registerContext(context){contexts.push(context);return context};Engine.getContexts=function getContexts(){return contexts};Engine.deregisterContext=function deregisterContext(context){var i=contexts.indexOf(context);if(i>=0)contexts.splice(i,1)};Engine.nextTick=function nextTick(fn){nextTickQueue.push(fn)};Engine.defer=function defer(fn){deferQueue.push(fn)};optionsManager.on("change",function(data){if(data.id==="fpsCap")Engine.setFPSCap(data.value);else if(data.id==="runLoop"){if(!loopEnabled&&data.value){loopEnabled=true;window.requestAnimationFrame(loop)}}});module.exports=Engine},{"./Context":6,"./EventHandler":12,"./OptionsManager":14}],10:[function(require,module,exports){var entities=[];function get(id){return entities[id]}function set(id,entity){entities[id]=entity}function register(entity){var id=entities.length;set(id,entity);return id}function unregister(id){set(id,null)}module.exports={register:register,unregister:unregister,get:get,set:set}},{}],11:[function(require,module,exports){function EventEmitter(){this.listeners={};this._owner=this}EventEmitter.prototype.emit=function emit(type,event){var handlers=this.listeners[type];if(handlers){for(var i=0;i<handlers.length;i++){handlers[i].call(this._owner,event)}}return this};EventEmitter.prototype.on=function on(type,handler){if(!(type in this.listeners))this.listeners[type]=[];var index=this.listeners[type].indexOf(handler);if(index<0)this.listeners[type].push(handler);return this};EventEmitter.prototype.addListener=EventEmitter.prototype.on;EventEmitter.prototype.removeListener=function removeListener(type,handler){var listener=this.listeners[type];if(listener!==undefined){var index=listener.indexOf(handler);if(index>=0)listener.splice(index,1)}return this};EventEmitter.prototype.bindThis=function bindThis(owner){this._owner=owner};module.exports=EventEmitter},{}],12:[function(require,module,exports){var EventEmitter=require("./EventEmitter");function EventHandler(){EventEmitter.apply(this,arguments);this.downstream=[];this.downstreamFn=[];this.upstream=[];this.upstreamListeners={}}EventHandler.prototype=Object.create(EventEmitter.prototype);EventHandler.prototype.constructor=EventHandler;EventHandler.setInputHandler=function setInputHandler(object,handler){object.trigger=handler.trigger.bind(handler);if(handler.subscribe&&handler.unsubscribe){object.subscribe=handler.subscribe.bind(handler);object.unsubscribe=handler.unsubscribe.bind(handler)}};EventHandler.setOutputHandler=function setOutputHandler(object,handler){if(handler instanceof EventHandler)handler.bindThis(object);object.pipe=handler.pipe.bind(handler);object.unpipe=handler.unpipe.bind(handler);object.on=handler.on.bind(handler);object.addListener=object.on;object.removeListener=handler.removeListener.bind(handler)};EventHandler.prototype.emit=function emit(type,event){EventEmitter.prototype.emit.apply(this,arguments);var i=0;for(i=0;i<this.downstream.length;i++){if(this.downstream[i].trigger)this.downstream[i].trigger(type,event)}for(i=0;i<this.downstreamFn.length;i++){this.downstreamFn[i](type,event)}return this};EventHandler.prototype.trigger=EventHandler.prototype.emit;EventHandler.prototype.pipe=function pipe(target){if(target.subscribe instanceof Function)return target.subscribe(this);var downstreamCtx=target instanceof Function?this.downstreamFn:this.downstream;var index=downstreamCtx.indexOf(target);if(index<0)downstreamCtx.push(target);if(target instanceof Function)target("pipe",null);else if(target.trigger)target.trigger("pipe",null);return target};EventHandler.prototype.unpipe=function unpipe(target){if(target.unsubscribe instanceof Function)return target.unsubscribe(this);var downstreamCtx=target instanceof Function?this.downstreamFn:this.downstream;var index=downstreamCtx.indexOf(target);if(index>=0){downstreamCtx.splice(index,1);if(target instanceof Function)target("unpipe",null);else if(target.trigger)target.trigger("unpipe",null);return target}else return false};EventHandler.prototype.on=function on(type,handler){EventEmitter.prototype.on.apply(this,arguments);if(!(type in this.upstreamListeners)){var upstreamListener=this.trigger.bind(this,type);this.upstreamListeners[type]=upstreamListener;for(var i=0;i<this.upstream.length;i++){this.upstream[i].on(type,upstreamListener)}}return this};EventHandler.prototype.addListener=EventHandler.prototype.on;EventHandler.prototype.subscribe=function subscribe(source){var index=this.upstream.indexOf(source);if(index<0){this.upstream.push(source);for(var type in this.upstreamListeners){source.on(type,this.upstreamListeners[type])}}return this};EventHandler.prototype.unsubscribe=function unsubscribe(source){var index=this.upstream.indexOf(source);if(index>=0){this.upstream.splice(index,1);for(var type in this.upstreamListeners){source.removeListener(type,this.upstreamListeners[type])}}return this};module.exports=EventHandler},{"./EventEmitter":11}],13:[function(require,module,exports){var Transform=require("./Transform");var Transitionable=require("../transitions/Transitionable");var TransitionableTransform=require("../transitions/TransitionableTransform");function Modifier(options){this._transformGetter=null;this._opacityGetter=null;this._originGetter=null;this._alignGetter=null;this._sizeGetter=null;this._proportionGetter=null;this._legacyStates={};this._output={transform:Transform.identity,opacity:1,origin:null,align:null,size:null,proportions:null,target:null};if(options){if(options.transform)this.transformFrom(options.transform);if(options.opacity!==undefined)this.opacityFrom(options.opacity);if(options.origin)this.originFrom(options.origin);if(options.align)this.alignFrom(options.align);if(options.size)this.sizeFrom(options.size);if(options.proportions)this.proportionsFrom(options.proportions)}}Modifier.prototype.transformFrom=function transformFrom(transform){if(transform instanceof Function)this._transformGetter=transform;else if(transform instanceof Object&&transform.get)this._transformGetter=transform.get.bind(transform);else{this._transformGetter=null;this._output.transform=transform}return this};Modifier.prototype.opacityFrom=function opacityFrom(opacity){if(opacity instanceof Function)this._opacityGetter=opacity;else if(opacity instanceof Object&&opacity.get)this._opacityGetter=opacity.get.bind(opacity);else{this._opacityGetter=null;this._output.opacity=opacity}return this};Modifier.prototype.originFrom=function originFrom(origin){if(origin instanceof Function)this._originGetter=origin;else if(origin instanceof Object&&origin.get)this._originGetter=origin.get.bind(origin);else{this._originGetter=null;this._output.origin=origin}return this};Modifier.prototype.alignFrom=function alignFrom(align){if(align instanceof Function)this._alignGetter=align;else if(align instanceof Object&&align.get)this._alignGetter=align.get.bind(align);else{this._alignGetter=null;this._output.align=align}return this};Modifier.prototype.sizeFrom=function sizeFrom(size){if(size instanceof Function)this._sizeGetter=size;else if(size instanceof Object&&size.get)this._sizeGetter=size.get.bind(size);else{this._sizeGetter=null;this._output.size=size}return this};Modifier.prototype.proportionsFrom=function proportionsFrom(proportions){if(proportions instanceof Function)this._proportionGetter=proportions;else if(proportions instanceof Object&&proportions.get)this._proportionGetter=proportions.get.bind(proportions);else{this._proportionGetter=null;this._output.proportions=proportions}return this};Modifier.prototype.setTransform=function setTransform(transform,transition,callback){if(transition||this._legacyStates.transform){if(!this._legacyStates.transform){this._legacyStates.transform=new TransitionableTransform(this._output.transform)}if(!this._transformGetter)this.transformFrom(this._legacyStates.transform);this._legacyStates.transform.set(transform,transition,callback);return this}else return this.transformFrom(transform)};Modifier.prototype.setOpacity=function setOpacity(opacity,transition,callback){if(transition||this._legacyStates.opacity){if(!this._legacyStates.opacity){this._legacyStates.opacity=new Transitionable(this._output.opacity)}if(!this._opacityGetter)this.opacityFrom(this._legacyStates.opacity);return this._legacyStates.opacity.set(opacity,transition,callback)}else return this.opacityFrom(opacity)};Modifier.prototype.setOrigin=function setOrigin(origin,transition,callback){if(transition||this._legacyStates.origin){if(!this._legacyStates.origin){this._legacyStates.origin=new Transitionable(this._output.origin||[0,0])}if(!this._originGetter)this.originFrom(this._legacyStates.origin);this._legacyStates.origin.set(origin,transition,callback);return this}else return this.originFrom(origin)};Modifier.prototype.setAlign=function setAlign(align,transition,callback){if(transition||this._legacyStates.align){if(!this._legacyStates.align){this._legacyStates.align=new Transitionable(this._output.align||[0,0])}if(!this._alignGetter)this.alignFrom(this._legacyStates.align);this._legacyStates.align.set(align,transition,callback);return this}else return this.alignFrom(align)};Modifier.prototype.setSize=function setSize(size,transition,callback){if(size&&(transition||this._legacyStates.size)){if(!this._legacyStates.size){this._legacyStates.size=new Transitionable(this._output.size||[0,0])}if(!this._sizeGetter)this.sizeFrom(this._legacyStates.size);this._legacyStates.size.set(size,transition,callback);return this}else return this.sizeFrom(size)};Modifier.prototype.setProportions=function setProportions(proportions,transition,callback){if(proportions&&(transition||this._legacyStates.proportions)){if(!this._legacyStates.proportions){this._legacyStates.proportions=new Transitionable(this._output.proportions||[0,0])}if(!this._proportionGetter)this.proportionsFrom(this._legacyStates.proportions);this._legacyStates.proportions.set(proportions,transition,callback);return this}else return this.proportionsFrom(proportions)};Modifier.prototype.halt=function halt(){if(this._legacyStates.transform)this._legacyStates.transform.halt();if(this._legacyStates.opacity)this._legacyStates.opacity.halt();if(this._legacyStates.origin)this._legacyStates.origin.halt();if(this._legacyStates.align)this._legacyStates.align.halt();if(this._legacyStates.size)this._legacyStates.size.halt();if(this._legacyStates.proportions)this._legacyStates.proportions.halt();this._transformGetter=null;this._opacityGetter=null;this._originGetter=null;this._alignGetter=null;this._sizeGetter=null;this._proportionGetter=null};Modifier.prototype.getTransform=function getTransform(){return this._transformGetter()};Modifier.prototype.getFinalTransform=function getFinalTransform(){return this._legacyStates.transform?this._legacyStates.transform.getFinal():this._output.transform};Modifier.prototype.getOpacity=function getOpacity(){return this._opacityGetter()};Modifier.prototype.getOrigin=function getOrigin(){return this._originGetter()};Modifier.prototype.getAlign=function getAlign(){return this._alignGetter()};Modifier.prototype.getSize=function getSize(){return this._sizeGetter?this._sizeGetter():this._output.size};Modifier.prototype.getProportions=function getProportions(){return this._proportionGetter?this._proportionGetter():this._output.proportions};function _update(){if(this._transformGetter)this._output.transform=this._transformGetter();if(this._opacityGetter)this._output.opacity=this._opacityGetter();if(this._originGetter)this._output.origin=this._originGetter();if(this._alignGetter)this._output.align=this._alignGetter();if(this._sizeGetter)this._output.size=this._sizeGetter();if(this._proportionGetter)this._output.proportions=this._proportionGetter()}Modifier.prototype.modify=function modify(target){_update.call(this);this._output.target=target;return this._output};module.exports=Modifier},{"../transitions/Transitionable":25,"../transitions/TransitionableTransform":26,"./Transform":18}],14:[function(require,module,exports){var EventHandler=require("./EventHandler");function OptionsManager(value){this._value=value;this.eventOutput=null}OptionsManager.patch=function patchObject(source,data){var manager=new OptionsManager(source);for(var i=1;i<arguments.length;i++)manager.patch(arguments[i]);return source};function _createEventOutput(){this.eventOutput=new EventHandler;this.eventOutput.bindThis(this);EventHandler.setOutputHandler(this,this.eventOutput)}OptionsManager.prototype.patch=function patch(){var myState=this._value;for(var i=0;i<arguments.length;i++){var data=arguments[i];for(var k in data){if(k in myState&&(data[k]&&data[k].constructor===Object)&&(myState[k]&&myState[k].constructor===Object)){if(!myState.hasOwnProperty(k))myState[k]=Object.create(myState[k]);this.key(k).patch(data[k]);if(this.eventOutput)this.eventOutput.emit("change",{id:k,value:this.key(k).value()})}else this.set(k,data[k])}}return this};OptionsManager.prototype.setOptions=OptionsManager.prototype.patch;OptionsManager.prototype.key=function key(identifier){var result=new OptionsManager(this._value[identifier]);if(!(result._value instanceof Object)||result._value instanceof Array)result._value={};return result};OptionsManager.prototype.get=function get(key){return key?this._value[key]:this._value};OptionsManager.prototype.getOptions=OptionsManager.prototype.get;OptionsManager.prototype.set=function set(key,value){var originalValue=this.get(key);this._value[key]=value;if(this.eventOutput&&value!==originalValue)this.eventOutput.emit("change",{id:key,value:value});return this};OptionsManager.prototype.on=function on(){_createEventOutput.call(this);return this.on.apply(this,arguments)};OptionsManager.prototype.removeListener=function removeListener(){_createEventOutput.call(this);return this.removeListener.apply(this,arguments)};OptionsManager.prototype.pipe=function pipe(){_createEventOutput.call(this);return this.pipe.apply(this,arguments)};OptionsManager.prototype.unpipe=function unpipe(){_createEventOutput.call(this);return this.unpipe.apply(this,arguments)};module.exports=OptionsManager},{"./EventHandler":12}],15:[function(require,module,exports){var Entity=require("./Entity");var SpecParser=require("./SpecParser");function RenderNode(object){this._object=null;this._child=null;this._hasMultipleChildren=false;this._isRenderable=false;this._isModifier=false;this._resultCache={};this._prevResults={};this._childResult=null;if(object)this.set(object)}RenderNode.prototype.add=function add(child){var childNode=child instanceof RenderNode?child:new RenderNode(child);if(this._child instanceof Array)this._child.push(childNode);else if(this._child){this._child=[this._child,childNode];this._hasMultipleChildren=true;this._childResult=[]}else this._child=childNode;return childNode};RenderNode.prototype.get=function get(){return this._object||(this._hasMultipleChildren?null:this._child?this._child.get():null)
};RenderNode.prototype.set=function set(child){this._childResult=null;this._hasMultipleChildren=false;this._isRenderable=child.render?true:false;this._isModifier=child.modify?true:false;this._object=child;this._child=null;if(child instanceof RenderNode)return child;else return this};RenderNode.prototype.getSize=function getSize(){var result=null;var target=this.get();if(target&&target.getSize)result=target.getSize();if(!result&&this._child&&this._child.getSize)result=this._child.getSize();return result};function _applyCommit(spec,context,cacheStorage){var result=SpecParser.parse(spec,context);var keys=Object.keys(result);for(var i=0;i<keys.length;i++){var id=keys[i];var childNode=Entity.get(id);var commitParams=result[id];commitParams.allocator=context.allocator;var commitResult=childNode.commit(commitParams);if(commitResult)_applyCommit(commitResult,context,cacheStorage);else cacheStorage[id]=commitParams}}RenderNode.prototype.commit=function commit(context){var prevKeys=Object.keys(this._prevResults);for(var i=0;i<prevKeys.length;i++){var id=prevKeys[i];if(this._resultCache[id]===undefined){var object=Entity.get(id);if(object.cleanup)object.cleanup(context.allocator)}}this._prevResults=this._resultCache;this._resultCache={};_applyCommit(this.render(),context,this._resultCache)};RenderNode.prototype.render=function render(){if(this._isRenderable)return this._object.render();var result=null;if(this._hasMultipleChildren){result=this._childResult;var children=this._child;for(var i=0;i<children.length;i++){result[i]=children[i].render()}}else if(this._child)result=this._child.render();return this._isModifier?this._object.modify(result):result};module.exports=RenderNode},{"./Entity":10,"./SpecParser":16}],16:[function(require,module,exports){var Transform=require("./Transform");function SpecParser(){this.result={}}SpecParser._instance=new SpecParser;SpecParser.parse=function parse(spec,context){return SpecParser._instance.parse(spec,context)};SpecParser.prototype.parse=function parse(spec,context){this.reset();this._parseSpec(spec,context,Transform.identity);return this.result};SpecParser.prototype.reset=function reset(){this.result={}};function _vecInContext(v,m){return[v[0]*m[0]+v[1]*m[4]+v[2]*m[8],v[0]*m[1]+v[1]*m[5]+v[2]*m[9],v[0]*m[2]+v[1]*m[6]+v[2]*m[10]]}var _zeroZero=[0,0];SpecParser.prototype._parseSpec=function _parseSpec(spec,parentContext,sizeContext){var id;var target;var transform;var opacity;var origin;var align;var size;if(typeof spec==="number"){id=spec;transform=parentContext.transform;align=parentContext.align||_zeroZero;if(parentContext.size&&align&&(align[0]||align[1])){var alignAdjust=[align[0]*parentContext.size[0],align[1]*parentContext.size[1],0];transform=Transform.thenMove(transform,_vecInContext(alignAdjust,sizeContext))}this.result[id]={transform:transform,opacity:parentContext.opacity,origin:parentContext.origin||_zeroZero,align:parentContext.align||_zeroZero,size:parentContext.size}}else if(!spec){return}else if(spec instanceof Array){for(var i=0;i<spec.length;i++){this._parseSpec(spec[i],parentContext,sizeContext)}}else{target=spec.target;transform=parentContext.transform;opacity=parentContext.opacity;origin=parentContext.origin;align=parentContext.align;size=parentContext.size;var nextSizeContext=sizeContext;if(spec.opacity!==undefined)opacity=parentContext.opacity*spec.opacity;if(spec.transform)transform=Transform.multiply(parentContext.transform,spec.transform);if(spec.origin){origin=spec.origin;nextSizeContext=parentContext.transform}if(spec.align)align=spec.align;if(spec.size||spec.proportions){var parentSize=size;size=[size[0],size[1]];if(spec.size){if(spec.size[0]!==undefined)size[0]=spec.size[0];if(spec.size[1]!==undefined)size[1]=spec.size[1]}if(spec.proportions){if(spec.proportions[0]!==undefined)size[0]=size[0]*spec.proportions[0];if(spec.proportions[1]!==undefined)size[1]=size[1]*spec.proportions[1]}if(parentSize){if(align&&(align[0]||align[1]))transform=Transform.thenMove(transform,_vecInContext([align[0]*parentSize[0],align[1]*parentSize[1],0],sizeContext));if(origin&&(origin[0]||origin[1]))transform=Transform.moveThen([-origin[0]*size[0],-origin[1]*size[1],0],transform)}nextSizeContext=parentContext.transform;origin=null;align=null}this._parseSpec(target,{transform:transform,opacity:opacity,origin:origin,align:align,size:size},nextSizeContext)}};module.exports=SpecParser},{"./Transform":18}],17:[function(require,module,exports){var ElementOutput=require("./ElementOutput");function Surface(options){ElementOutput.call(this);this.options={};this.properties={};this.attributes={};this.content="";this.classList=[];this.size=null;this._classesDirty=true;this._stylesDirty=true;this._attributesDirty=true;this._sizeDirty=true;this._contentDirty=true;this._trueSizeCheck=true;this._dirtyClasses=[];if(options)this.setOptions(options);this._currentTarget=null}Surface.prototype=Object.create(ElementOutput.prototype);Surface.prototype.constructor=Surface;Surface.prototype.elementType="div";Surface.prototype.elementClass="famous-surface";Surface.prototype.setAttributes=function setAttributes(attributes){for(var n in attributes){if(n==="style")throw new Error('Cannot set styles via "setAttributes" as it will break Famo.us.  Use "setProperties" instead.');this.attributes[n]=attributes[n]}this._attributesDirty=true};Surface.prototype.getAttributes=function getAttributes(){return this.attributes};Surface.prototype.setProperties=function setProperties(properties){for(var n in properties){this.properties[n]=properties[n]}this._stylesDirty=true;return this};Surface.prototype.getProperties=function getProperties(){return this.properties};Surface.prototype.addClass=function addClass(className){if(this.classList.indexOf(className)<0){this.classList.push(className);this._classesDirty=true}return this};Surface.prototype.removeClass=function removeClass(className){var i=this.classList.indexOf(className);if(i>=0){this._dirtyClasses.push(this.classList.splice(i,1)[0]);this._classesDirty=true}return this};Surface.prototype.toggleClass=function toggleClass(className){var i=this.classList.indexOf(className);if(i>=0){this.removeClass(className)}else{this.addClass(className)}return this};Surface.prototype.setClasses=function setClasses(classList){var i=0;var removal=[];for(i=0;i<this.classList.length;i++){if(classList.indexOf(this.classList[i])<0)removal.push(this.classList[i])}for(i=0;i<removal.length;i++)this.removeClass(removal[i]);for(i=0;i<classList.length;i++)this.addClass(classList[i]);return this};Surface.prototype.getClassList=function getClassList(){return this.classList};Surface.prototype.setContent=function setContent(content){if(this.content!==content){this.content=content;this._contentDirty=true}return this};Surface.prototype.getContent=function getContent(){return this.content};Surface.prototype.setOptions=function setOptions(options){if(options.size)this.setSize(options.size);if(options.classes)this.setClasses(options.classes);if(options.properties)this.setProperties(options.properties);if(options.attributes)this.setAttributes(options.attributes);if(options.content)this.setContent(options.content);return this};function _cleanupClasses(target){for(var i=0;i<this._dirtyClasses.length;i++)target.classList.remove(this._dirtyClasses[i]);this._dirtyClasses=[]}function _applyStyles(target){for(var n in this.properties){target.style[n]=this.properties[n]}}function _cleanupStyles(target){for(var n in this.properties){target.style[n]=""}}function _applyAttributes(target){for(var n in this.attributes){target.setAttribute(n,this.attributes[n])}}function _cleanupAttributes(target){for(var n in this.attributes){target.removeAttribute(n)}}function _xyNotEquals(a,b){return a&&b?a[0]!==b[0]||a[1]!==b[1]:a!==b}Surface.prototype.setup=function setup(allocator){var target=allocator.allocate(this.elementType);if(this.elementClass){if(this.elementClass instanceof Array){for(var i=0;i<this.elementClass.length;i++){target.classList.add(this.elementClass[i])}}else{target.classList.add(this.elementClass)}}target.style.display="";this.attach(target);this._opacity=null;this._currentTarget=target;this._stylesDirty=true;this._classesDirty=true;this._attributesDirty=true;this._sizeDirty=true;this._contentDirty=true;this._originDirty=true;this._transformDirty=true};Surface.prototype.commit=function commit(context){if(!this._currentTarget)this.setup(context.allocator);var target=this._currentTarget;var size=context.size;if(this._classesDirty){_cleanupClasses.call(this,target);var classList=this.getClassList();for(var i=0;i<classList.length;i++)target.classList.add(classList[i]);this._classesDirty=false;this._trueSizeCheck=true}if(this._stylesDirty){_applyStyles.call(this,target);this._stylesDirty=false;this._trueSizeCheck=true}if(this._attributesDirty){_applyAttributes.call(this,target);this._attributesDirty=false;this._trueSizeCheck=true}if(this.size){var origSize=context.size;size=[this.size[0],this.size[1]];if(size[0]===undefined)size[0]=origSize[0];if(size[1]===undefined)size[1]=origSize[1];if(size[0]===true||size[1]===true){if(size[0]===true){if(this._trueSizeCheck||this._size[0]===0){var width=target.offsetWidth;if(this._size&&this._size[0]!==width){this._size[0]=width;this._sizeDirty=true}size[0]=width}else{if(this._size)size[0]=this._size[0]}}if(size[1]===true){if(this._trueSizeCheck||this._size[1]===0){var height=target.offsetHeight;if(this._size&&this._size[1]!==height){this._size[1]=height;this._sizeDirty=true}size[1]=height}else{if(this._size)size[1]=this._size[1]}}this._trueSizeCheck=false}}if(_xyNotEquals(this._size,size)){if(!this._size)this._size=[0,0];this._size[0]=size[0];this._size[1]=size[1];this._sizeDirty=true}if(this._sizeDirty){if(this._size){target.style.width=this.size&&this.size[0]===true?"":this._size[0]+"px";target.style.height=this.size&&this.size[1]===true?"":this._size[1]+"px"}this._eventOutput.emit("resize")}if(this._contentDirty){this.deploy(target);this._eventOutput.emit("deploy");this._contentDirty=false;this._trueSizeCheck=true}ElementOutput.prototype.commit.call(this,context)};Surface.prototype.cleanup=function cleanup(allocator){var i=0;var target=this._currentTarget;this._eventOutput.emit("recall");this.recall(target);target.style.display="none";target.style.opacity="";target.style.width="";target.style.height="";_cleanupStyles.call(this,target);_cleanupAttributes.call(this,target);var classList=this.getClassList();_cleanupClasses.call(this,target);for(i=0;i<classList.length;i++)target.classList.remove(classList[i]);if(this.elementClass){if(this.elementClass instanceof Array){for(i=0;i<this.elementClass.length;i++){target.classList.remove(this.elementClass[i])}}else{target.classList.remove(this.elementClass)}}this.detach(target);this._currentTarget=null;allocator.deallocate(target)};Surface.prototype.deploy=function deploy(target){var content=this.getContent();if(content instanceof Node){while(target.hasChildNodes())target.removeChild(target.firstChild);target.appendChild(content)}else target.innerHTML=content};Surface.prototype.recall=function recall(target){var df=document.createDocumentFragment();while(target.hasChildNodes())df.appendChild(target.firstChild);this.setContent(df)};Surface.prototype.getSize=function getSize(){return this._size?this._size:this.size};Surface.prototype.setSize=function setSize(size){this.size=size?[size[0],size[1]]:null;this._sizeDirty=true;return this};module.exports=Surface},{"./ElementOutput":8}],18:[function(require,module,exports){var Transform={};Transform.precision=1e-6;Transform.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Transform.multiply4x4=function multiply4x4(a,b){return[a[0]*b[0]+a[4]*b[1]+a[8]*b[2]+a[12]*b[3],a[1]*b[0]+a[5]*b[1]+a[9]*b[2]+a[13]*b[3],a[2]*b[0]+a[6]*b[1]+a[10]*b[2]+a[14]*b[3],a[3]*b[0]+a[7]*b[1]+a[11]*b[2]+a[15]*b[3],a[0]*b[4]+a[4]*b[5]+a[8]*b[6]+a[12]*b[7],a[1]*b[4]+a[5]*b[5]+a[9]*b[6]+a[13]*b[7],a[2]*b[4]+a[6]*b[5]+a[10]*b[6]+a[14]*b[7],a[3]*b[4]+a[7]*b[5]+a[11]*b[6]+a[15]*b[7],a[0]*b[8]+a[4]*b[9]+a[8]*b[10]+a[12]*b[11],a[1]*b[8]+a[5]*b[9]+a[9]*b[10]+a[13]*b[11],a[2]*b[8]+a[6]*b[9]+a[10]*b[10]+a[14]*b[11],a[3]*b[8]+a[7]*b[9]+a[11]*b[10]+a[15]*b[11],a[0]*b[12]+a[4]*b[13]+a[8]*b[14]+a[12]*b[15],a[1]*b[12]+a[5]*b[13]+a[9]*b[14]+a[13]*b[15],a[2]*b[12]+a[6]*b[13]+a[10]*b[14]+a[14]*b[15],a[3]*b[12]+a[7]*b[13]+a[11]*b[14]+a[15]*b[15]]};Transform.multiply=function multiply(a,b){return[a[0]*b[0]+a[4]*b[1]+a[8]*b[2],a[1]*b[0]+a[5]*b[1]+a[9]*b[2],a[2]*b[0]+a[6]*b[1]+a[10]*b[2],0,a[0]*b[4]+a[4]*b[5]+a[8]*b[6],a[1]*b[4]+a[5]*b[5]+a[9]*b[6],a[2]*b[4]+a[6]*b[5]+a[10]*b[6],0,a[0]*b[8]+a[4]*b[9]+a[8]*b[10],a[1]*b[8]+a[5]*b[9]+a[9]*b[10],a[2]*b[8]+a[6]*b[9]+a[10]*b[10],0,a[0]*b[12]+a[4]*b[13]+a[8]*b[14]+a[12],a[1]*b[12]+a[5]*b[13]+a[9]*b[14]+a[13],a[2]*b[12]+a[6]*b[13]+a[10]*b[14]+a[14],1]};Transform.thenMove=function thenMove(m,t){if(!t[2])t[2]=0;return[m[0],m[1],m[2],0,m[4],m[5],m[6],0,m[8],m[9],m[10],0,m[12]+t[0],m[13]+t[1],m[14]+t[2],1]};Transform.moveThen=function moveThen(v,m){if(!v[2])v[2]=0;var t0=v[0]*m[0]+v[1]*m[4]+v[2]*m[8];var t1=v[0]*m[1]+v[1]*m[5]+v[2]*m[9];var t2=v[0]*m[2]+v[1]*m[6]+v[2]*m[10];return Transform.thenMove(m,[t0,t1,t2])};Transform.translate=function translate(x,y,z){if(z===undefined)z=0;return[1,0,0,0,0,1,0,0,0,0,1,0,x,y,z,1]};Transform.thenScale=function thenScale(m,s){return[s[0]*m[0],s[1]*m[1],s[2]*m[2],0,s[0]*m[4],s[1]*m[5],s[2]*m[6],0,s[0]*m[8],s[1]*m[9],s[2]*m[10],0,s[0]*m[12],s[1]*m[13],s[2]*m[14],1]};Transform.scale=function scale(x,y,z){if(z===undefined)z=1;if(y===undefined)y=x;return[x,0,0,0,0,y,0,0,0,0,z,0,0,0,0,1]};Transform.rotateX=function rotateX(theta){var cosTheta=Math.cos(theta);var sinTheta=Math.sin(theta);return[1,0,0,0,0,cosTheta,sinTheta,0,0,-sinTheta,cosTheta,0,0,0,0,1]};Transform.rotateY=function rotateY(theta){var cosTheta=Math.cos(theta);var sinTheta=Math.sin(theta);return[cosTheta,0,-sinTheta,0,0,1,0,0,sinTheta,0,cosTheta,0,0,0,0,1]};Transform.rotateZ=function rotateZ(theta){var cosTheta=Math.cos(theta);var sinTheta=Math.sin(theta);return[cosTheta,sinTheta,0,0,-sinTheta,cosTheta,0,0,0,0,1,0,0,0,0,1]};Transform.rotate=function rotate(phi,theta,psi){var cosPhi=Math.cos(phi);var sinPhi=Math.sin(phi);var cosTheta=Math.cos(theta);var sinTheta=Math.sin(theta);var cosPsi=Math.cos(psi);var sinPsi=Math.sin(psi);var result=[cosTheta*cosPsi,cosPhi*sinPsi+sinPhi*sinTheta*cosPsi,sinPhi*sinPsi-cosPhi*sinTheta*cosPsi,0,-cosTheta*sinPsi,cosPhi*cosPsi-sinPhi*sinTheta*sinPsi,sinPhi*cosPsi+cosPhi*sinTheta*sinPsi,0,sinTheta,-sinPhi*cosTheta,cosPhi*cosTheta,0,0,0,0,1];return result};Transform.rotateAxis=function rotateAxis(v,theta){var sinTheta=Math.sin(theta);var cosTheta=Math.cos(theta);var verTheta=1-cosTheta;var xxV=v[0]*v[0]*verTheta;var xyV=v[0]*v[1]*verTheta;var xzV=v[0]*v[2]*verTheta;var yyV=v[1]*v[1]*verTheta;var yzV=v[1]*v[2]*verTheta;var zzV=v[2]*v[2]*verTheta;var xs=v[0]*sinTheta;var ys=v[1]*sinTheta;var zs=v[2]*sinTheta;var result=[xxV+cosTheta,xyV+zs,xzV-ys,0,xyV-zs,yyV+cosTheta,yzV+xs,0,xzV+ys,yzV-xs,zzV+cosTheta,0,0,0,0,1];return result};Transform.aboutOrigin=function aboutOrigin(v,m){var t0=v[0]-(v[0]*m[0]+v[1]*m[4]+v[2]*m[8]);var t1=v[1]-(v[0]*m[1]+v[1]*m[5]+v[2]*m[9]);var t2=v[2]-(v[0]*m[2]+v[1]*m[6]+v[2]*m[10]);return Transform.thenMove(m,[t0,t1,t2])};Transform.skew=function skew(phi,theta,psi){return[1,Math.tan(theta),0,0,Math.tan(psi),1,0,0,0,Math.tan(phi),1,0,0,0,0,1]};Transform.skewX=function skewX(angle){return[1,0,0,0,Math.tan(angle),1,0,0,0,0,1,0,0,0,0,1]};Transform.skewY=function skewY(angle){return[1,Math.tan(angle),0,0,0,1,0,0,0,0,1,0,0,0,0,1]};Transform.perspective=function perspective(focusZ){return[1,0,0,0,0,1,0,0,0,0,1,-1/focusZ,0,0,0,1]};Transform.getTranslate=function getTranslate(m){return[m[12],m[13],m[14]]};Transform.inverse=function inverse(m){var c0=m[5]*m[10]-m[6]*m[9];var c1=m[4]*m[10]-m[6]*m[8];var c2=m[4]*m[9]-m[5]*m[8];var c4=m[1]*m[10]-m[2]*m[9];var c5=m[0]*m[10]-m[2]*m[8];var c6=m[0]*m[9]-m[1]*m[8];var c8=m[1]*m[6]-m[2]*m[5];var c9=m[0]*m[6]-m[2]*m[4];var c10=m[0]*m[5]-m[1]*m[4];var detM=m[0]*c0-m[1]*c1+m[2]*c2;var invD=1/detM;var result=[invD*c0,-invD*c4,invD*c8,0,-invD*c1,invD*c5,-invD*c9,0,invD*c2,-invD*c6,invD*c10,0,0,0,0,1];result[12]=-m[12]*result[0]-m[13]*result[4]-m[14]*result[8];result[13]=-m[12]*result[1]-m[13]*result[5]-m[14]*result[9];result[14]=-m[12]*result[2]-m[13]*result[6]-m[14]*result[10];return result};Transform.transpose=function transpose(m){return[m[0],m[4],m[8],m[12],m[1],m[5],m[9],m[13],m[2],m[6],m[10],m[14],m[3],m[7],m[11],m[15]]};function _normSquared(v){return v.length===2?v[0]*v[0]+v[1]*v[1]:v[0]*v[0]+v[1]*v[1]+v[2]*v[2]}function _norm(v){return Math.sqrt(_normSquared(v))}function _sign(n){return n<0?-1:1}Transform.interpret=function interpret(M){var x=[M[0],M[1],M[2]];var sgn=_sign(x[0]);var xNorm=_norm(x);var v=[x[0]+sgn*xNorm,x[1],x[2]];var mult=2/_normSquared(v);if(mult>=Infinity){return{translate:Transform.getTranslate(M),rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]}}var Q1=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];Q1[0]=1-mult*v[0]*v[0];Q1[5]=1-mult*v[1]*v[1];Q1[10]=1-mult*v[2]*v[2];Q1[1]=-mult*v[0]*v[1];Q1[2]=-mult*v[0]*v[2];Q1[6]=-mult*v[1]*v[2];Q1[4]=Q1[1];Q1[8]=Q1[2];Q1[9]=Q1[6];var MQ1=Transform.multiply(Q1,M);var x2=[MQ1[5],MQ1[6]];var sgn2=_sign(x2[0]);var x2Norm=_norm(x2);var v2=[x2[0]+sgn2*x2Norm,x2[1]];var mult2=2/_normSquared(v2);var Q2=[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1];Q2[5]=1-mult2*v2[0]*v2[0];Q2[10]=1-mult2*v2[1]*v2[1];Q2[6]=-mult2*v2[0]*v2[1];Q2[9]=Q2[6];var Q=Transform.multiply(Q2,Q1);var R=Transform.multiply(Q,M);var remover=Transform.scale(R[0]<0?-1:1,R[5]<0?-1:1,R[10]<0?-1:1);R=Transform.multiply(R,remover);Q=Transform.multiply(remover,Q);var result={};result.translate=Transform.getTranslate(M);result.rotate=[Math.atan2(-Q[6],Q[10]),Math.asin(Q[2]),Math.atan2(-Q[1],Q[0])];if(!result.rotate[0]){result.rotate[0]=0;result.rotate[2]=Math.atan2(Q[4],Q[5])}result.scale=[R[0],R[5],R[10]];result.skew=[Math.atan2(R[9],result.scale[2]),Math.atan2(R[8],result.scale[2]),Math.atan2(R[4],result.scale[0])];if(Math.abs(result.rotate[0])+Math.abs(result.rotate[2])>1.5*Math.PI){result.rotate[1]=Math.PI-result.rotate[1];if(result.rotate[1]>Math.PI)result.rotate[1]-=2*Math.PI;if(result.rotate[1]<-Math.PI)result.rotate[1]+=2*Math.PI;if(result.rotate[0]<0)result.rotate[0]+=Math.PI;else result.rotate[0]-=Math.PI;if(result.rotate[2]<0)result.rotate[2]+=Math.PI;else result.rotate[2]-=Math.PI}return result};Transform.average=function average(M1,M2,t){t=t===undefined?.5:t;var specM1=Transform.interpret(M1);var specM2=Transform.interpret(M2);var specAvg={translate:[0,0,0],rotate:[0,0,0],scale:[0,0,0],skew:[0,0,0]};for(var i=0;i<3;i++){specAvg.translate[i]=(1-t)*specM1.translate[i]+t*specM2.translate[i];specAvg.rotate[i]=(1-t)*specM1.rotate[i]+t*specM2.rotate[i];specAvg.scale[i]=(1-t)*specM1.scale[i]+t*specM2.scale[i];specAvg.skew[i]=(1-t)*specM1.skew[i]+t*specM2.skew[i]}return Transform.build(specAvg)};Transform.build=function build(spec){var scaleMatrix=Transform.scale(spec.scale[0],spec.scale[1],spec.scale[2]);var skewMatrix=Transform.skew(spec.skew[0],spec.skew[1],spec.skew[2]);var rotateMatrix=Transform.rotate(spec.rotate[0],spec.rotate[1],spec.rotate[2]);return Transform.thenMove(Transform.multiply(Transform.multiply(rotateMatrix,skewMatrix),scaleMatrix),spec.translate)};Transform.equals=function equals(a,b){return!Transform.notEquals(a,b)};Transform.notEquals=function notEquals(a,b){if(a===b)return false;return!(a&&b)||a[12]!==b[12]||a[13]!==b[13]||a[14]!==b[14]||a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]||a[4]!==b[4]||a[5]!==b[5]||a[6]!==b[6]||a[8]!==b[8]||a[9]!==b[9]||a[10]!==b[10]};Transform.normalizeRotation=function normalizeRotation(rotation){var result=rotation.slice(0);if(result[0]===Math.PI*.5||result[0]===-Math.PI*.5){result[0]=-result[0];result[1]=Math.PI-result[1];result[2]-=Math.PI}if(result[0]>Math.PI*.5){result[0]=result[0]-Math.PI;result[1]=Math.PI-result[1];result[2]-=Math.PI}if(result[0]<-Math.PI*.5){result[0]=result[0]+Math.PI;result[1]=-Math.PI-result[1];result[2]-=Math.PI}while(result[1]<-Math.PI)result[1]+=2*Math.PI;while(result[1]>=Math.PI)result[1]-=2*Math.PI;while(result[2]<-Math.PI)result[2]+=2*Math.PI;while(result[2]>=Math.PI)result[2]-=2*Math.PI;return result};Transform.inFront=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,.001,1];Transform.behind=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,-.001,1];module.exports=Transform},{}],19:[function(require,module,exports){var EventHandler=require("./EventHandler");var OptionsManager=require("./OptionsManager");var RenderNode=require("./RenderNode");var Utility=require("../utilities/Utility");function View(options){this._node=new RenderNode;this._eventInput=new EventHandler;this._eventOutput=new EventHandler;EventHandler.setInputHandler(this,this._eventInput);EventHandler.setOutputHandler(this,this._eventOutput);this.options=Utility.clone(this.constructor.DEFAULT_OPTIONS||View.DEFAULT_OPTIONS);this._optionsManager=new OptionsManager(this.options);if(options)this.setOptions(options)}View.DEFAULT_OPTIONS={};View.prototype.getOptions=function getOptions(key){return this._optionsManager.getOptions(key)};View.prototype.setOptions=function setOptions(options){this._optionsManager.patch(options)};View.prototype.add=function add(){return this._node.add.apply(this._node,arguments)};View.prototype._add=View.prototype.add;View.prototype.render=function render(){return this._node.render()};View.prototype.getSize=function getSize(){if(this._node&&this._node.getSize){return this._node.getSize.apply(this._node,arguments)||this.options.size}else return this.options.size};module.exports=View},{"../utilities/Utility":28,"./EventHandler":12,"./OptionsManager":14,"./RenderNode":15}],20:[function(require,module,exports){var css="/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\n *\n * Owner: mark@famo.us\n * @license MPL 2.0\n * @copyright Famous Industries, Inc. 2014\n */\n\n.famous-root {\n    width: 100%;\n    height: 100%;\n    margin: 0px;\n    padding: 0px;\n    opacity: .999999; /* ios8 hotfix */\n    overflow: hidden;\n    -webkit-transform-style: preserve-3d;\n    transform-style: preserve-3d;\n}\n\n.famous-container, .famous-group {\n    position: absolute;\n    top: 0px;\n    left: 0px;\n    bottom: 0px;\n    right: 0px;\n    overflow: visible;\n    -webkit-transform-style: preserve-3d;\n    transform-style: preserve-3d;\n    -webkit-backface-visibility: visible;\n    backface-visibility: visible;\n    pointer-events: none;\n}\n\n.famous-group {\n    width: 0px;\n    height: 0px;\n    margin: 0px;\n    padding: 0px;\n}\n\n.famous-surface {\n    position: absolute;\n    -webkit-transform-origin: center center;\n    transform-origin: center center;\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n    -webkit-transform-style: preserve-3d;\n    transform-style: preserve-3d;\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    -webkit-tap-highlight-color: transparent;\n    pointer-events: auto;\n}\n\n.famous-container-group {\n    position: relative;\n    width: 100%;\n    height: 100%;\n}\n";require("/Users/benhulan/Developer/gh-pages/famous_paper_doll/node_modules/cssify")(css);module.exports=css},{"/Users/benhulan/Developer/gh-pages/famous_paper_doll/node_modules/cssify":1}],21:[function(require,module,exports){var Modifier=require("../core/Modifier");var Transform=require("../core/Transform");var Transitionable=require("../transitions/Transitionable");var TransitionableTransform=require("../transitions/TransitionableTransform");function StateModifier(options){this._transformState=new TransitionableTransform(Transform.identity);this._opacityState=new Transitionable(1);this._originState=new Transitionable([0,0]);this._alignState=new Transitionable([0,0]);this._sizeState=new Transitionable([0,0]);this._proportionsState=new Transitionable([0,0]);this._modifier=new Modifier({transform:this._transformState,opacity:this._opacityState,origin:null,align:null,size:null,proportions:null});this._hasOrigin=false;this._hasAlign=false;this._hasSize=false;this._hasProportions=false;if(options){if(options.transform)this.setTransform(options.transform);if(options.opacity!==undefined)this.setOpacity(options.opacity);if(options.origin)this.setOrigin(options.origin);if(options.align)this.setAlign(options.align);if(options.size)this.setSize(options.size);if(options.proportions)this.setProportions(options.proportions)}}StateModifier.prototype.setTransform=function setTransform(transform,transition,callback){this._transformState.set(transform,transition,callback);return this};StateModifier.prototype.setOpacity=function setOpacity(opacity,transition,callback){this._opacityState.set(opacity,transition,callback);return this};StateModifier.prototype.setOrigin=function setOrigin(origin,transition,callback){if(origin===null){if(this._hasOrigin){this._modifier.originFrom(null);this._hasOrigin=false}return this}else if(!this._hasOrigin){this._hasOrigin=true;this._modifier.originFrom(this._originState)}this._originState.set(origin,transition,callback);return this};StateModifier.prototype.setAlign=function setOrigin(align,transition,callback){if(align===null){if(this._hasAlign){this._modifier.alignFrom(null);this._hasAlign=false}return this}else if(!this._hasAlign){this._hasAlign=true;this._modifier.alignFrom(this._alignState)}this._alignState.set(align,transition,callback);return this};StateModifier.prototype.setSize=function setSize(size,transition,callback){if(size===null){if(this._hasSize){this._modifier.sizeFrom(null);this._hasSize=false}return this}else if(!this._hasSize){this._hasSize=true;this._modifier.sizeFrom(this._sizeState)}this._sizeState.set(size,transition,callback);return this};StateModifier.prototype.setProportions=function setSize(proportions,transition,callback){if(proportions===null){if(this._hasProportions){this._modifier.proportionsFrom(null);this._hasProportions=false}return this}else if(!this._hasProportions){this._hasProportions=true;this._modifier.proportionsFrom(this._proportionsState)}this._proportionsState.set(proportions,transition,callback);return this};StateModifier.prototype.halt=function halt(){this._transformState.halt();this._opacityState.halt();this._originState.halt();this._alignState.halt();this._sizeState.halt();this._proportionsState.halt()};StateModifier.prototype.getTransform=function getTransform(){return this._transformState.get()};StateModifier.prototype.getFinalTransform=function getFinalTransform(){return this._transformState.getFinal()};StateModifier.prototype.getOpacity=function getOpacity(){return this._opacityState.get()};StateModifier.prototype.getOrigin=function getOrigin(){return this._hasOrigin?this._originState.get():null};StateModifier.prototype.getAlign=function getAlign(){return this._hasAlign?this._alignState.get():null};StateModifier.prototype.getSize=function getSize(){return this._hasSize?this._sizeState.get():null};StateModifier.prototype.getProportions=function getProportions(){return this._hasProportions?this._proportionsState.get():null};StateModifier.prototype.modify=function modify(target){return this._modifier.modify(target)};module.exports=StateModifier},{"../core/Modifier":13,"../core/Transform":18,"../transitions/Transitionable":25,"../transitions/TransitionableTransform":26}],22:[function(require,module,exports){var Surface=require("../core/Surface");function ImageSurface(options){this._imageUrl=undefined;Surface.apply(this,arguments)}var urlCache=[];var countCache=[];var nodeCache=[];var cacheEnabled=true;ImageSurface.enableCache=function enableCache(){cacheEnabled=true};ImageSurface.disableCache=function disableCache(){cacheEnabled=false};ImageSurface.clearCache=function clearCache(){urlCache=[];countCache=[];nodeCache=[]};ImageSurface.getCache=function getCache(){return{urlCache:urlCache,countCache:countCache,nodeCache:countCache}};ImageSurface.prototype=Object.create(Surface.prototype);ImageSurface.prototype.constructor=ImageSurface;ImageSurface.prototype.elementType="img";ImageSurface.prototype.elementClass="famous-surface";ImageSurface.prototype.setContent=function setContent(imageUrl){var urlIndex=urlCache.indexOf(this._imageUrl);if(urlIndex!==-1){if(countCache[urlIndex]===1){urlCache.splice(urlIndex,1);countCache.splice(urlIndex,1);nodeCache.splice(urlIndex,1)}else{countCache[urlIndex]--}}urlIndex=urlCache.indexOf(imageUrl);if(urlIndex===-1){urlCache.push(imageUrl);countCache.push(1)}else{countCache[urlIndex]++}this._imageUrl=imageUrl;this._contentDirty=true};ImageSurface.prototype.deploy=function deploy(target){var urlIndex=urlCache.indexOf(this._imageUrl);if(nodeCache[urlIndex]===undefined&&cacheEnabled){var img=new Image;img.src=this._imageUrl||"";nodeCache[urlIndex]=img}target.src=this._imageUrl||""};ImageSurface.prototype.recall=function recall(target){target.src=""};module.exports=ImageSurface},{"../core/Surface":17}],23:[function(require,module,exports){var Easing={inQuad:function(t){return t*t},outQuad:function(t){return-(t-=1)*t+1},inOutQuad:function(t){if((t/=.5)<1)return.5*t*t;return-.5*(--t*(t-2)-1)},inCubic:function(t){return t*t*t},outCubic:function(t){return--t*t*t+1},inOutCubic:function(t){if((t/=.5)<1)return.5*t*t*t;return.5*((t-=2)*t*t+2)},inQuart:function(t){return t*t*t*t},outQuart:function(t){return-(--t*t*t*t-1)},inOutQuart:function(t){if((t/=.5)<1)return.5*t*t*t*t;return-.5*((t-=2)*t*t*t-2)},inQuint:function(t){return t*t*t*t*t},outQuint:function(t){return--t*t*t*t*t+1},inOutQuint:function(t){if((t/=.5)<1)return.5*t*t*t*t*t;return.5*((t-=2)*t*t*t*t+2)},inSine:function(t){return-1*Math.cos(t*(Math.PI/2))+1},outSine:function(t){return Math.sin(t*(Math.PI/2))},inOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},inExpo:function(t){return t===0?0:Math.pow(2,10*(t-1))},outExpo:function(t){return t===1?1:-Math.pow(2,-10*t)+1},inOutExpo:function(t){if(t===0)return 0;if(t===1)return 1;if((t/=.5)<1)return.5*Math.pow(2,10*(t-1));return.5*(-Math.pow(2,-10*--t)+2)},inCirc:function(t){return-(Math.sqrt(1-t*t)-1)},outCirc:function(t){return Math.sqrt(1- --t*t)},inOutCirc:function(t){if((t/=.5)<1)return-.5*(Math.sqrt(1-t*t)-1);return.5*(Math.sqrt(1-(t-=2)*t)+1)},inElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0)return 0;if(t===1)return 1;if(!p)p=.3;s=p/(2*Math.PI)*Math.asin(1/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p))},outElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0)return 0;if(t===1)return 1;if(!p)p=.3;s=p/(2*Math.PI)*Math.asin(1/a);return a*Math.pow(2,-10*t)*Math.sin((t-s)*(2*Math.PI)/p)+1},inOutElastic:function(t){var s=1.70158;var p=0;var a=1;if(t===0)return 0;if((t/=.5)===2)return 1;if(!p)p=.3*1.5;s=p/(2*Math.PI)*Math.asin(1/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p));return a*Math.pow(2,-10*(t-=1))*Math.sin((t-s)*(2*Math.PI)/p)*.5+1},inBack:function(t,s){if(s===undefined)s=1.70158;return t*t*((s+1)*t-s)},outBack:function(t,s){if(s===undefined)s=1.70158;return--t*t*((s+1)*t+s)+1},inOutBack:function(t,s){if(s===undefined)s=1.70158;if((t/=.5)<1)return.5*(t*t*(((s*=1.525)+1)*t-s));return.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},inBounce:function(t){return 1-Easing.outBounce(1-t)},outBounce:function(t){if(t<1/2.75){return 7.5625*t*t}else if(t<2/2.75){return 7.5625*(t-=1.5/2.75)*t+.75}else if(t<2.5/2.75){return 7.5625*(t-=2.25/2.75)*t+.9375}else{return 7.5625*(t-=2.625/2.75)*t+.984375}},inOutBounce:function(t){if(t<.5)return Easing.inBounce(t*2)*.5;return Easing.outBounce(t*2-1)*.5+.5}};module.exports=Easing},{}],24:[function(require,module,exports){var Utility=require("../utilities/Utility");function MultipleTransition(method){this.method=method;this._instances=[];this.state=[]}MultipleTransition.SUPPORTS_MULTIPLE=true;MultipleTransition.prototype.get=function get(){for(var i=0;i<this._instances.length;i++){this.state[i]=this._instances[i].get()
}return this.state};MultipleTransition.prototype.set=function set(endState,transition,callback){var _allCallback=Utility.after(endState.length,callback);for(var i=0;i<endState.length;i++){if(!this._instances[i])this._instances[i]=new this.method;this._instances[i].set(endState[i],transition,_allCallback)}};MultipleTransition.prototype.reset=function reset(startState){for(var i=0;i<startState.length;i++){if(!this._instances[i])this._instances[i]=new this.method;this._instances[i].reset(startState[i])}};module.exports=MultipleTransition},{"../utilities/Utility":28}],25:[function(require,module,exports){var MultipleTransition=require("./MultipleTransition");var TweenTransition=require("./TweenTransition");function Transitionable(start){this.currentAction=null;this.actionQueue=[];this.callbackQueue=[];this.state=0;this.velocity=undefined;this._callback=undefined;this._engineInstance=null;this._currentMethod=null;this.set(start)}var transitionMethods={};Transitionable.register=function register(methods){var success=true;for(var method in methods){if(!Transitionable.registerMethod(method,methods[method]))success=false}return success};Transitionable.registerMethod=function registerMethod(name,engineClass){if(!(name in transitionMethods)){transitionMethods[name]=engineClass;return true}else return false};Transitionable.unregisterMethod=function unregisterMethod(name){if(name in transitionMethods){delete transitionMethods[name];return true}else return false};function _loadNext(){if(this._callback){var callback=this._callback;this._callback=undefined;callback()}if(this.actionQueue.length<=0){this.set(this.get());return}this.currentAction=this.actionQueue.shift();this._callback=this.callbackQueue.shift();var method=null;var endValue=this.currentAction[0];var transition=this.currentAction[1];if(transition instanceof Object&&transition.method){method=transition.method;if(typeof method==="string")method=transitionMethods[method]}else{method=TweenTransition}if(this._currentMethod!==method){if(!(endValue instanceof Object)||method.SUPPORTS_MULTIPLE===true||endValue.length<=method.SUPPORTS_MULTIPLE){this._engineInstance=new method}else{this._engineInstance=new MultipleTransition(method)}this._currentMethod=method}this._engineInstance.reset(this.state,this.velocity);if(this.velocity!==undefined)transition.velocity=this.velocity;this._engineInstance.set(endValue,transition,_loadNext.bind(this))}Transitionable.prototype.set=function set(endState,transition,callback){if(!transition){this.reset(endState);if(callback)callback();return this}var action=[endState,transition];this.actionQueue.push(action);this.callbackQueue.push(callback);if(!this.currentAction)_loadNext.call(this);return this};Transitionable.prototype.reset=function reset(startState,startVelocity){this._currentMethod=null;this._engineInstance=null;this._callback=undefined;this.state=startState;this.velocity=startVelocity;this.currentAction=null;this.actionQueue=[];this.callbackQueue=[]};Transitionable.prototype.delay=function delay(duration,callback){this.set(this.get(),{duration:duration,curve:function(){return 0}},callback)};Transitionable.prototype.get=function get(timestamp){if(this._engineInstance){if(this._engineInstance.getVelocity)this.velocity=this._engineInstance.getVelocity();this.state=this._engineInstance.get(timestamp)}return this.state};Transitionable.prototype.isActive=function isActive(){return!!this.currentAction};Transitionable.prototype.halt=function halt(){return this.set(this.get())};module.exports=Transitionable},{"./MultipleTransition":24,"./TweenTransition":27}],26:[function(require,module,exports){var Transitionable=require("./Transitionable");var Transform=require("../core/Transform");var Utility=require("../utilities/Utility");function TransitionableTransform(transform){this._final=Transform.identity.slice();this._finalTranslate=[0,0,0];this._finalRotate=[0,0,0];this._finalSkew=[0,0,0];this._finalScale=[1,1,1];this.translate=new Transitionable(this._finalTranslate);this.rotate=new Transitionable(this._finalRotate);this.skew=new Transitionable(this._finalSkew);this.scale=new Transitionable(this._finalScale);if(transform)this.set(transform)}function _build(){return Transform.build({translate:this.translate.get(),rotate:this.rotate.get(),skew:this.skew.get(),scale:this.scale.get()})}function _buildFinal(){return Transform.build({translate:this._finalTranslate,rotate:this._finalRotate,skew:this._finalSkew,scale:this._finalScale})}TransitionableTransform.prototype.setTranslate=function setTranslate(translate,transition,callback){this._finalTranslate=translate;this._final=_buildFinal.call(this);this.translate.set(translate,transition,callback);return this};TransitionableTransform.prototype.setScale=function setScale(scale,transition,callback){this._finalScale=scale;this._final=_buildFinal.call(this);this.scale.set(scale,transition,callback);return this};TransitionableTransform.prototype.setRotate=function setRotate(eulerAngles,transition,callback){this._finalRotate=eulerAngles;this._final=_buildFinal.call(this);this.rotate.set(eulerAngles,transition,callback);return this};TransitionableTransform.prototype.setSkew=function setSkew(skewAngles,transition,callback){this._finalSkew=skewAngles;this._final=_buildFinal.call(this);this.skew.set(skewAngles,transition,callback);return this};TransitionableTransform.prototype.set=function set(transform,transition,callback){var components=Transform.interpret(transform);this._finalTranslate=components.translate;this._finalRotate=components.rotate;this._finalSkew=components.skew;this._finalScale=components.scale;this._final=transform;var _callback=callback?Utility.after(4,callback):null;this.translate.set(components.translate,transition,_callback);this.rotate.set(components.rotate,transition,_callback);this.skew.set(components.skew,transition,_callback);this.scale.set(components.scale,transition,_callback);return this};TransitionableTransform.prototype.setDefaultTransition=function setDefaultTransition(transition){this.translate.setDefault(transition);this.rotate.setDefault(transition);this.skew.setDefault(transition);this.scale.setDefault(transition)};TransitionableTransform.prototype.get=function get(){if(this.isActive()){return _build.call(this)}else return this._final};TransitionableTransform.prototype.getFinal=function getFinal(){return this._final};TransitionableTransform.prototype.isActive=function isActive(){return this.translate.isActive()||this.rotate.isActive()||this.scale.isActive()||this.skew.isActive()};TransitionableTransform.prototype.halt=function halt(){this.translate.halt();this.rotate.halt();this.skew.halt();this.scale.halt();this._final=this.get();this._finalTranslate=this.translate.get();this._finalRotate=this.rotate.get();this._finalSkew=this.skew.get();this._finalScale=this.scale.get();return this};module.exports=TransitionableTransform},{"../core/Transform":18,"../utilities/Utility":28,"./Transitionable":25}],27:[function(require,module,exports){function TweenTransition(options){this.options=Object.create(TweenTransition.DEFAULT_OPTIONS);if(options)this.setOptions(options);this._startTime=0;this._startValue=0;this._updateTime=0;this._endValue=0;this._curve=undefined;this._duration=0;this._active=false;this._callback=undefined;this.state=0;this.velocity=undefined}TweenTransition.Curves={linear:function(t){return t},easeIn:function(t){return t*t},easeOut:function(t){return t*(2-t)},easeInOut:function(t){if(t<=.5)return 2*t*t;else return-2*t*t+4*t-1},easeOutBounce:function(t){return t*(3-2*t)},spring:function(t){return(1-t)*Math.sin(6*Math.PI*t)+t}};TweenTransition.SUPPORTS_MULTIPLE=true;TweenTransition.DEFAULT_OPTIONS={curve:TweenTransition.Curves.linear,duration:500,speed:0};var registeredCurves={};TweenTransition.registerCurve=function registerCurve(curveName,curve){if(!registeredCurves[curveName]){registeredCurves[curveName]=curve;return true}else{return false}};TweenTransition.unregisterCurve=function unregisterCurve(curveName){if(registeredCurves[curveName]){delete registeredCurves[curveName];return true}else{return false}};TweenTransition.getCurve=function getCurve(curveName){var curve=registeredCurves[curveName];if(curve!==undefined)return curve;else throw new Error("curve not registered")};TweenTransition.getCurves=function getCurves(){return registeredCurves};function _interpolate(a,b,t){return(1-t)*a+t*b}function _clone(obj){if(obj instanceof Object){if(obj instanceof Array)return obj.slice(0);else return Object.create(obj)}else return obj}function _normalize(transition,defaultTransition){var result={curve:defaultTransition.curve};if(defaultTransition.duration)result.duration=defaultTransition.duration;if(defaultTransition.speed)result.speed=defaultTransition.speed;if(transition instanceof Object){if(transition.duration!==undefined)result.duration=transition.duration;if(transition.curve)result.curve=transition.curve;if(transition.speed)result.speed=transition.speed}if(typeof result.curve==="string")result.curve=TweenTransition.getCurve(result.curve);return result}TweenTransition.prototype.setOptions=function setOptions(options){if(options.curve!==undefined)this.options.curve=options.curve;if(options.duration!==undefined)this.options.duration=options.duration;if(options.speed!==undefined)this.options.speed=options.speed};TweenTransition.prototype.set=function set(endValue,transition,callback){if(!transition){this.reset(endValue);if(callback)callback();return}this._startValue=_clone(this.get());transition=_normalize(transition,this.options);if(transition.speed){var startValue=this._startValue;if(startValue instanceof Object){var variance=0;for(var i in startValue)variance+=(endValue[i]-startValue[i])*(endValue[i]-startValue[i]);transition.duration=Math.sqrt(variance)/transition.speed}else{transition.duration=Math.abs(endValue-startValue)/transition.speed}}this._startTime=Date.now();this._endValue=_clone(endValue);this._startVelocity=_clone(transition.velocity);this._duration=transition.duration;this._curve=transition.curve;this._active=true;this._callback=callback};TweenTransition.prototype.reset=function reset(startValue,startVelocity){if(this._callback){var callback=this._callback;this._callback=undefined;callback()}this.state=_clone(startValue);this.velocity=_clone(startVelocity);this._startTime=0;this._duration=0;this._updateTime=0;this._startValue=this.state;this._startVelocity=this.velocity;this._endValue=this.state;this._active=false};TweenTransition.prototype.getVelocity=function getVelocity(){return this.velocity};TweenTransition.prototype.get=function get(timestamp){this.update(timestamp);return this.state};function _calculateVelocity(current,start,curve,duration,t){var velocity;var eps=1e-7;var speed=(curve(t)-curve(t-eps))/eps;if(current instanceof Array){velocity=[];for(var i=0;i<current.length;i++){if(typeof current[i]==="number")velocity[i]=speed*(current[i]-start[i])/duration;else velocity[i]=0}}else velocity=speed*(current-start)/duration;return velocity}function _calculateState(start,end,t){var state;if(start instanceof Array){state=[];for(var i=0;i<start.length;i++){if(typeof start[i]==="number")state[i]=_interpolate(start[i],end[i],t);else state[i]=start[i]}}else state=_interpolate(start,end,t);return state}TweenTransition.prototype.update=function update(timestamp){if(!this._active){if(this._callback){var callback=this._callback;this._callback=undefined;callback()}return}if(!timestamp)timestamp=Date.now();if(this._updateTime>=timestamp)return;this._updateTime=timestamp;var timeSinceStart=timestamp-this._startTime;if(timeSinceStart>=this._duration){this.state=this._endValue;this.velocity=_calculateVelocity(this.state,this._startValue,this._curve,this._duration,1);this._active=false}else if(timeSinceStart<0){this.state=this._startValue;this.velocity=this._startVelocity}else{var t=timeSinceStart/this._duration;this.state=_calculateState(this._startValue,this._endValue,this._curve(t));this.velocity=_calculateVelocity(this.state,this._startValue,this._curve,this._duration,t)}};TweenTransition.prototype.isActive=function isActive(){return this._active};TweenTransition.prototype.halt=function halt(){this.reset(this.get())};TweenTransition.registerCurve("linear",TweenTransition.Curves.linear);TweenTransition.registerCurve("easeIn",TweenTransition.Curves.easeIn);TweenTransition.registerCurve("easeOut",TweenTransition.Curves.easeOut);TweenTransition.registerCurve("easeInOut",TweenTransition.Curves.easeInOut);TweenTransition.registerCurve("easeOutBounce",TweenTransition.Curves.easeOutBounce);TweenTransition.registerCurve("spring",TweenTransition.Curves.spring);TweenTransition.customCurve=function customCurve(v1,v2){v1=v1||0;v2=v2||0;return function(t){return v1*t+(-2*v1-v2+3)*t*t+(v1+v2-2)*t*t*t}};module.exports=TweenTransition},{}],28:[function(require,module,exports){var Utility={};Utility.Direction={X:0,Y:1,Z:2};Utility.after=function after(count,callback){var counter=count;return function(){counter--;if(counter===0)callback.apply(this,arguments)}};Utility.loadURL=function loadURL(url,callback){var xhr=new XMLHttpRequest;xhr.onreadystatechange=function onreadystatechange(){if(this.readyState===4){if(callback)callback(this.responseText)}};xhr.open("GET",url);xhr.send()};Utility.createDocumentFragmentFromHTML=function createDocumentFragmentFromHTML(html){var element=document.createElement("div");element.innerHTML=html;var result=document.createDocumentFragment();while(element.hasChildNodes())result.appendChild(element.firstChild);return result};Utility.clone=function clone(b){var a;if(typeof b==="object"){a=b instanceof Array?[]:{};for(var key in b){if(typeof b[key]==="object"&&b[key]!==null){if(b[key]instanceof Array){a[key]=new Array(b[key].length);for(var i=0;i<b[key].length;i++){a[key][i]=Utility.clone(b[key][i])}}else{a[key]=Utility.clone(b[key])}}else{a[key]=b[key]}}}else{a=b}return a};module.exports=Utility},{}],29:[function(require,module,exports){module.exports={tops:{blouse1:{align:[.5,.5],origin:[-2,1.8],size:[100,120],content:"images/blouse1.svg"},blouse2:{align:[.5,.5],origin:[-3,1.9],size:[100,120],content:"images/blouse2.svg"},blouse3:{align:[.5,.5],origin:[-4,2],size:[100,120],content:"images/blouse3.svg"},shirt1:{align:[.5,.5],origin:[-2,1.2],size:[100,120],content:"images/shirt1.svg"},shirt2:{align:[.5,.5],origin:[-3,1.3],size:[100,120],content:"images/shirt2.svg"},shirt3:{align:[.5,.5],origin:[-4,1.4],size:[100,120],content:"images/shirt3.svg"}},dresses:{dress1:{align:[.5,.5],origin:[3,1.2],size:[99,179],content:"images/dress1.svg"},dress2:{align:[.5,.5],origin:[4,1.3],size:[99,179],content:"images/dress2.svg"},dress3:{align:[.5,.5],origin:[5,1.4],size:[99,179],content:"images/dress3.svg"}},pants:{skirt1:{align:[.5,.5],origin:[2.5,.1],size:[122,306],content:"images/skirt1.svg"},skirt2:{align:[.5,.5],origin:[3.3,.03],size:[122,306],content:"images/skirt2.svg"},skirt3:{align:[.5,.5],origin:[4.2,.05],size:[122,306],content:"images/skirt3.svg"},shorts1:{align:[.5,.5],origin:[-1.55,0],size:[122,306],content:"images/shorts1.svg"},shorts2:{align:[.5,.5],origin:[-1.55,-.2],size:[122,306],content:"images/shorts2.svg"},shorts3:{align:[.5,.5],origin:[-1.55,-.4],size:[122,306],content:"images/shorts3.svg"},pants1:{align:[.5,.5],origin:[-2.375,.1],size:[122,306],content:"images/pants1.svg"},pants2:{align:[.5,.5],origin:[-3.2,.15],size:[122,306],content:"images/pants2.svg"}},shoes:{shoes1:{align:[.5,.5],origin:[4,-1.2],size:[69,129],content:"images/shoes1.svg"},shoes2:{align:[.5,.5],origin:[5,-1.2],size:[69,129],content:"images/shoes2.svg"},shoes3:{align:[.5,.5],origin:[6,-1.2],size:[69,129],content:"images/shoes3.svg"}}}},{}],30:[function(require,module,exports){require("./styles");require("famous-polyfills");var BgView=require("./views/BgView");var ModelView=require("./views/ModelView");var ClothesView=require("./views/ClothesView");var Engine=require("famous/src/core/Engine");var Modifier=require("famous/src/core/Modifier");var Transform=require("famous/src/core/Transform");var View=require("famous/src/core/View");var StateModifier=require("famous/src/modifiers/StateModifier");var ImageSurface=require("famous/src/surfaces/ImageSurface");var Easing=require("famous/src/transitions/Easing");var Transitionable=require("famous/src/transitions/Transitionable");var mainContext=Engine.createContext();function MainView(){View.apply(this,arguments);var bgView=new BgView;var modelView=new ModelView;var clothesView=new ClothesView;this.subscribe(bgView);this.subscribe(modelView);modelView.subscribe(clothesView);this.subscribe(clothesView);this.add(bgView);this.add(modelView);this.add(clothesView);this._eventInput.on("click",function(){outfitView.swapModifiers()})}MainView.prototype=Object.create(View.prototype);MainView.prototype.constructor=MainView;MainView.DEFAULT_OPTIONS={};var mainView=new MainView;mainContext.add(mainView);module.exports=MainView},{"./styles":32,"./views/BgView":33,"./views/ClothesView":34,"./views/ModelView":36,"famous-polyfills":4,"famous/src/core/Engine":9,"famous/src/core/Modifier":13,"famous/src/core/Transform":18,"famous/src/core/View":19,"famous/src/modifiers/StateModifier":21,"famous/src/surfaces/ImageSurface":22,"famous/src/transitions/Easing":23,"famous/src/transitions/Transitionable":25}],31:[function(require,module,exports){var css="html {\n  background: #fff;\n}\n\n.backfaceVisibility {\n  -webkit-backface-visibility: visible;\n  backface-visibility: visible;\n}\n\n.top {\n	background-color: #446699;\n}";require("/Users/benhulan/Developer/gh-pages/famous_paper_doll/node_modules/cssify")(css);module.exports=css},{"/Users/benhulan/Developer/gh-pages/famous_paper_doll/node_modules/cssify":1}],32:[function(require,module,exports){require("famous/src/core/famous.css");require("./app.css")},{"./app.css":31,"famous/src/core/famous.css":20}],33:[function(require,module,exports){require("../styles");require("famous-polyfills");var Engine=require("famous/src/core/Engine");var Modifier=require("famous/src/core/Modifier");var Transform=require("famous/src/core/Transform");var ImageSurface=require("famous/src/surfaces/ImageSurface");var Transitionable=require("famous/src/transitions/Transitionable");var Easing=require("famous/src/transitions/Easing");var View=require("famous/src/core/View");function BgView(){View.apply(this,arguments);var centerBgMod=new Modifier({align:[.5,.5],origin:[.5,.5]});var bg=new ImageSurface({size:[400,579],content:"images/bg.svg"});this.add(centerBgMod).add(bg)}BgView.prototype=Object.create(View.prototype);BgView.prototype.constructor=BgView;BgView.DEFAULT_OPTIONS={};module.exports=BgView},{"../styles":32,"famous-polyfills":4,"famous/src/core/Engine":9,"famous/src/core/Modifier":13,"famous/src/core/Transform":18,"famous/src/core/View":19,"famous/src/surfaces/ImageSurface":22,"famous/src/transitions/Easing":23,"famous/src/transitions/Transitionable":25}],34:[function(require,module,exports){var data=require("../data.json");var Engine=require("famous/src/core/Engine");var Modifier=require("famous/src/core/Modifier");var Transform=require("famous/src/core/Transform");var ImageSurface=require("famous/src/surfaces/ImageSurface");var Transitionable=require("famous/src/transitions/Transitionable");var Easing=require("famous/src/transitions/Easing");var View=require("famous/src/core/View");var TopView=require("./TopView");var PantsView=require("./PantsView");var DressView=require("./DressView");var ShoeView=require("./ShoeView");function ClothesView(){View.apply(this,arguments);var views={};for(var key in data.tops){var topView=new TopView(data.tops[key],key);this.subscribe(topView);this.add(topView);views[key]=topView}this._eventInput.on("topViewClicked",function(view){view.change();this._eventOutput.emit("topViewClicked")}.bind(this));for(var key in data.pants){var pantsView=new PantsView(data.pants[key],key);this.subscribe(pantsView);this.add(pantsView);views[key]=pantsView}this._eventInput.on("pantsViewClicked",function(view){view.change();this._eventOutput.emit("pantsViewClicked")}.bind(this));for(var key in data.dresses){var dressView=new DressView(data.dresses[key],key);this.subscribe(dressView);this.add(dressView);views[key]=dressView}this._eventInput.on("dressViewClicked",function(view){view.change();this._eventOutput.emit("dressViewClicked")}.bind(this));for(var key in data.shoes){var shoeView=new ShoeView(data.shoes[key],key);this.subscribe(shoeView);this.add(shoeView);views[key]=shoeView}this._eventInput.on("shoeViewClicked",function(view){view.change();this._eventOutput.emit("shoeViewClicked")}.bind(this))}ClothesView.prototype=Object.create(View.prototype);ClothesView.prototype.constructor=ClothesView;ClothesView.DEFAULT_OPTIONS={};module.exports=ClothesView},{"../data.json":29,"./DressView":35,"./PantsView":37,"./ShoeView":38,"./TopView":39,"famous/src/core/Engine":9,"famous/src/core/Modifier":13,"famous/src/core/Transform":18,"famous/src/core/View":19,"famous/src/surfaces/ImageSurface":22,"famous/src/transitions/Easing":23,"famous/src/transitions/Transitionable":25}],35:[function(require,module,exports){require("../styles");require("famous-polyfills");var data=require("../data.json");var Engine=require("famous/src/core/Engine");var Modifier=require("famous/src/core/Modifier");var Transform=require("famous/src/core/Transform");var ImageSurface=require("famous/src/surfaces/ImageSurface");var Transitionable=require("famous/src/transitions/Transitionable");var Easing=require("famous/src/transitions/Easing");var View=require("famous/src/core/View");function DressView(data){View.apply(this,arguments);var dressModifier=new Modifier({align:[data["align"][0],data["align"][1]],origin:[data["origin"][0],data["origin"][1]]});var dressSurface=new ImageSurface({size:[data["size"][0],data["size"][1]],content:data["content"]});this.originStartX=data["origin"][0];this.originStartY=data["origin"][1];this.dressTransitionable=new Transitionable([this.originStartX,this.originStartY]);dressModifier.originFrom(function(){return this.dressTransitionable.get()}.bind(this));this.subscribe(dressSurface);this.add(dressModifier).add(dressSurface);this.isOn=false;this._eventInput.on("click",function(){this._eventOutput.emit("dressViewClicked",this)}.bind(this))}DressView.prototype=Object.create(View.prototype);DressView.prototype.constructor=DressView;DressView.prototype.testing=function(){console.log("dressView made it to the test")};DressView.prototype.change=function(data){if(this.isOn){this.dressTransitionable.set([this.originStartX,this.originStartY],{duration:1e3,curve:Easing.inCubic});this.isOn=false}else{this.dressTransitionable.set([.5,.95],{duration:1e3,curve:Easing.inCubic});this.isOn=true}};DressView.DEFAULT_OPTIONS={};module.exports=DressView},{"../data.json":29,"../styles":32,"famous-polyfills":4,"famous/src/core/Engine":9,"famous/src/core/Modifier":13,"famous/src/core/Transform":18,"famous/src/core/View":19,"famous/src/surfaces/ImageSurface":22,"famous/src/transitions/Easing":23,"famous/src/transitions/Transitionable":25}],36:[function(require,module,exports){require("../styles");require("famous-polyfills");var Engine=require("famous/src/core/Engine");var Modifier=require("famous/src/core/Modifier");var Transform=require("famous/src/core/Transform");var StateModifier=require("famous/src/modifiers/StateModifier");var ImageSurface=require("famous/src/surfaces/ImageSurface");var Transitionable=require("famous/src/transitions/Transitionable");var Easing=require("famous/src/transitions/Easing");var View=require("famous/src/core/View");function ModelView(){View.apply(this,arguments);var views={};var centerModelMod=new Modifier({align:[.5,.5],origin:[.5,.5]});var model=new ImageSurface({size:[122,530],content:"images/model2.svg"});this.add(centerModelMod).add(model);var blushMod=new Modifier({align:[.5,.5],origin:[.5,.5],opacity:.8});var blush=new ImageSurface({size:[122,530],content:"images/blush.svg"});this.clothesIndex={tops:0,pants:0,dresses:0};this._eventInput.on("topViewClicked",function(){this.clothesIndex.tops+=1;this.dressed()}.bind(this));this._eventInput.on("pantsViewClicked",function(){this.clothesIndex.pants+=1;this.dressed()}.bind(this));this._eventInput.on("dressViewClicked",function(){this.clothesIndex.dresses+=1;this.dressed()}.bind(this))}ModelView.prototype=Object.create(View.prototype);ModelView.prototype.constructor=ModelView;ModelView.DEFAULT_OPTIONS={};ModelView.prototype.dressed=function(){if(this.clothesIndex.tops>1){this._eventOutput.emit("topViewClicked");this.clothesIndex.tops=0}else if(this.clothesIndex.pants>1){this.clothesIndex.pants=0}else if(this.clothesIndex.dresses>1){this.clothesIndex.dresses=0}if(this.clothesIndex.tops==0){if(this.clothesIndex.pants==0){if(this.clothesIndex.dresses==0){}}}};module.exports=ModelView},{"../styles":32,"famous-polyfills":4,"famous/src/core/Engine":9,"famous/src/core/Modifier":13,"famous/src/core/Transform":18,"famous/src/core/View":19,"famous/src/modifiers/StateModifier":21,"famous/src/surfaces/ImageSurface":22,"famous/src/transitions/Easing":23,"famous/src/transitions/Transitionable":25}],37:[function(require,module,exports){var data=require("../data.json");var Engine=require("famous/src/core/Engine");var Modifier=require("famous/src/core/Modifier");var Transform=require("famous/src/core/Transform");var ImageSurface=require("famous/src/surfaces/ImageSurface");var Transitionable=require("famous/src/transitions/Transitionable");var Easing=require("famous/src/transitions/Easing");var View=require("famous/src/core/View");function PantsView(data){View.apply(this,arguments);var pantsModifier=new Modifier({align:[data["align"][0],data["align"][1]],origin:[data["origin"][0],data["origin"][1]]});var pantsSurface=new ImageSurface({size:[data["size"][0],data["size"][1]],content:data["content"]});this.originStartX=data["origin"][0];this.originStartY=data["origin"][1];this.pantsTransitionable=new Transitionable([this.originStartX,this.originStartY]);pantsModifier.originFrom(function(){return this.pantsTransitionable.get()}.bind(this));this.subscribe(pantsSurface);this.add(pantsModifier).add(pantsSurface);this.isOn=false;this._eventInput.on("click",function(){this._eventOutput.emit("pantsViewClicked",this)}.bind(this))}PantsView.prototype=Object.create(View.prototype);PantsView.prototype.constructor=PantsView;PantsView.prototype.testing=function(){console.log("pantsView made test")};PantsView.prototype.change=function(data){if(this.isOn){this.pantsTransitionable.set([this.originStartX,this.originStartY],{duration:1e3,curve:Easing.inCubic});this.isOn=false}else{this.pantsTransitionable.set([.49,.2675],{duration:1e3,curve:Easing.inCubic});this.isOn=true}};PantsView.DEFAULT_OPTIONS={};module.exports=PantsView},{"../data.json":29,"famous/src/core/Engine":9,"famous/src/core/Modifier":13,"famous/src/core/Transform":18,"famous/src/core/View":19,"famous/src/surfaces/ImageSurface":22,"famous/src/transitions/Easing":23,"famous/src/transitions/Transitionable":25}],38:[function(require,module,exports){require("../styles");require("famous-polyfills");var data=require("../data.json");var Engine=require("famous/src/core/Engine");var Modifier=require("famous/src/core/Modifier");var Transform=require("famous/src/core/Transform");var ImageSurface=require("famous/src/surfaces/ImageSurface");var Transitionable=require("famous/src/transitions/Transitionable");var Easing=require("famous/src/transitions/Easing");var View=require("famous/src/core/View");function ShoeView(data){View.apply(this,arguments);var shoeModifier=new Modifier({align:[data["align"][0],data["align"][1]],origin:[data["origin"][0],data["origin"][1]]});var shoeSurface=new ImageSurface({size:[data["size"][0],data["size"][1]],content:data["content"]});this.originStartX=data["origin"][0];this.originStartY=data["origin"][1];this.shoeTransitionable=new Transitionable([this.originStartX,this.originStartY]);shoeModifier.originFrom(function(){return this.shoeTransitionable.get()}.bind(this));this.subscribe(shoeSurface);this.add(shoeModifier).add(shoeSurface);this.isOn=false;this._eventInput.on("click",function(){this._eventOutput.emit("shoeViewClicked",this)}.bind(this))}ShoeView.prototype=Object.create(View.prototype);ShoeView.prototype.constructor=ShoeView;ShoeView.prototype.testing=function(){console.log("shoeView made it to the test")};ShoeView.prototype.change=function(data){if(this.isOn){this.shoeTransitionable.set([this.originStartX,this.originStartY],{duration:1e3,curve:Easing.inCubic});this.isOn=false}else{this.shoeTransitionable.set([.49,-1.1],{duration:1e3,curve:Easing.inCubic});this.isOn=true}};ShoeView.prototype.slideOff=function(){console.log("shoeView made it to the test")};ShoeView.DEFAULT_OPTIONS={};module.exports=ShoeView},{"../data.json":29,"../styles":32,"famous-polyfills":4,"famous/src/core/Engine":9,"famous/src/core/Modifier":13,"famous/src/core/Transform":18,"famous/src/core/View":19,"famous/src/surfaces/ImageSurface":22,"famous/src/transitions/Easing":23,"famous/src/transitions/Transitionable":25}],39:[function(require,module,exports){require("../styles");require("famous-polyfills");var data=require("../data.json");var Engine=require("famous/src/core/Engine");var Modifier=require("famous/src/core/Modifier");var Transform=require("famous/src/core/Transform");var ImageSurface=require("famous/src/surfaces/ImageSurface");var Transitionable=require("famous/src/transitions/Transitionable");var Easing=require("famous/src/transitions/Easing");var View=require("famous/src/core/View");function TopView(data){View.apply(this,arguments);var topModifier=new Modifier({align:[data["align"][0],data["align"][1]],origin:[data["origin"][0],data["origin"][1]]});var topSurface=new ImageSurface({size:[data["size"][0],data["size"][1]],content:data["content"]});this.originStartX=data["origin"][0];this.originStartY=data["origin"][1];this.topTransitionable=new Transitionable([this.originStartX,this.originStartY]);topModifier.originFrom(function(){return this.topTransitionable.get()}.bind(this));this.subscribe(topSurface);this.add(topModifier).add(topSurface);this.isOn=false;this._eventInput.on("click",function(){this._eventOutput.emit("topViewClicked",this)}.bind(this))}TopView.prototype=Object.create(View.prototype);TopView.prototype.constructor=TopView;TopView.prototype.testing=function(){console.log("topView made it to the test")};TopView.prototype.change=function(data){if(this.isOn){this.topTransitionable.set([this.originStartX,this.originStartY],{duration:1e3,curve:Easing.inCubic});this.isOn=false}else{this.topTransitionable.set([.5,1.45],{duration:1e3,curve:Easing.inCubic});this.isOn=true}};TopView.prototype.slideOff=function(){console.log("topView made it to the test")};TopView.DEFAULT_OPTIONS={};module.exports=TopView},{"../data.json":29,"../styles":32,"famous-polyfills":4,"famous/src/core/Engine":9,"famous/src/core/Modifier":13,"famous/src/core/Transform":18,"famous/src/core/View":19,"famous/src/surfaces/ImageSurface":22,"famous/src/transitions/Easing":23,"famous/src/transitions/Transitionable":25}]},{},[30]);